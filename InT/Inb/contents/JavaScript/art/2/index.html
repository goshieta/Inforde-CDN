<!DOCTYPE html>
<html lang="ja">
    <head prefix="og:http://ogp.me/ns#">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-9KV7NYMY0W"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-9KV7NYMY0W');
        </script>
        <meta charset="UTF-8">
        <meta name="description" content="JSからCSSをいじろう！基本的な使い方から、Classを使った発展的なやり方や疑似要素の扱い方も説明しています。">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JSでCSSを操作してみよう - Inforde Blog</title>
        <link rel="shortcut icon" href="../../../../inbIcon.png" type="image/x-icon">
        <link rel="stylesheet" href="../../../../css/hf.css">
        <link rel="stylesheet" href="../../../../css/flatTheme.css">
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Sawarabi+Gothic&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
        <script src="../../../../js/bar.js"></script>
        <script src="../../../../js/ham.js"></script>
        <!--コードのハイライト表示用-->
        <link rel="stylesheet" href="../../../../prism.js/prism.css">
        <script src="../../../../prism.js/prism.js"></script>
        <!--OGP設定-->
        <meta property="og:title" content="JSでCSSを操作してみよう - Inforde Blog">
        <meta property="og:description" content="CSSをJavaScriptを使って操作してみましょう。基本的な使い方から発展まで解説しています。">
        <meta property="og:url" content="https://iyqzbugtwfgzyugaybuxxa.on.drv.tw/Indorde%20top/InT/Inb/contents/IT技術/art/2/index.html">
        <meta property="og:image" content="https://iyqzbugtwfgzyugaybuxxa.on.drv.tw/Indorde%20top/InT/Inb/contents/IT%E6%8A%80%E8%A1%93/art/2/title.jpg">
        <meta property="og:type" content="article">
        <meta property="og:site_name" content="Inforde Blog">
        <meta name="twitter:card" content="summary_large_image">
    </head>
    <body>
        <div id="header">
            <a href="../../../../inb.html">
                <div id="title">
                    <img src="../../../../inbIcon.png" alt="アイコン" id="bar_icon">
                    <p id="title_p">Inforde Blog</p>
                </div>
            </a>
            <div id="space">
                <p id="luck_title">今日の運勢:</p>
                <p id="luck_body"></p>
                <p id="lui_title">今日のラッキーアイテム:</p>
                <p id="lui_body"></p>
            </div>
        </div>
        <div id="hamMenu" style="display: none;" class="hide">
            <a href="../../../../../../InT.html">Inforde Top</a>
            <a href="../../../../../Ing/Ing.html">Inforde GAME</a>
            <a href="../../../../inb.html">Inforde Blog</a>
            <a href="../../../../../統合画面/統合画面_プライバシーポリシー.html">プライバシーポリシー</a>
            <a href="../../../../../統合画面/統合画面_報告・提案.html">お問い合わせ</a>
        </div>
        <div id="backgray"></div>
        <div id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div id="contents">
            <!--ここに書きます。-->
            <div id="headTitle">
                <div id="headCenter">
                    <p style="color: white;">JSでCSSを操作してみよう</p>
                </div>
                <img src="./title.jpg" alt="タイトル画像">
            </div>
            <div id="sentence">
                <p class="sen">みなさんこんにちは。今回この記事ではJavaScriptを使ったCSSの操作の仕方について解説していこうと思います。</p>
                <p class="sen">JavaScriptを使ってCSSを操作することができると、作れる物の幅も広がります。是非マスターしてください。</p>
                <div id="tableOfContents" class="sen">
                    <p id="tocTitle">目次</p>
                    <div id="tocDiv">
                        <a href="#mt1">1. CSS操作の基本</a>
                        <a href="#mt2">2. 滑らかにアニメーションする</a>
                        <a href="#mt3">3. Classを利用して操作しよう</a>
                        <a href="#mt4">4. 疑似要素にチャレンジ！</a>
                    </div>
                </div>
                <h2 class="sen" id="mt1">1. CSS操作の基本</h2>
                <p class="sen">まずは基本的にどのようにしてCSSの操作をJSで行うかを理解しておきましょう。下にコード例を示します。</p>
                <pre class="line-numbers"><code class="language-html">&lt;p id=&quot;hoge&quot;&gt;人生成功の鍵は目標設定にあり&lt;/p&gt;
&lt;button onclick=&quot;colorChange()&quot;&gt;赤&lt;/button&gt;
&lt;script&gt;
    function colorChange(){
        const hoge=document.getElementById('hoge')
        hoge.style.color=&#039;red&#039;
    }
&lt;/script&gt;</code></pre>
                <p class="sen">解説すると、まず一行目にhogeというid名のついたpタグがあります。そして二行目にbuttonタグがあり、押されるとcolorChangeというJavaScriptの<strong>関数が実行</strong>されるようになっています。「このcolorChangeという関数は何ぞや？」という話ですが、それに関しては四行目から七行目に定義されています。この関数の中を詳しく見てみると、まず五行目で<strong>getElementById</strong>を使ってhogeというidの要素(１行目で定義した要素)を取得し、定数hogeに代入しています。そして今回のポイントはその次の行である六行目です。取得した要素hogeの<strong>styleのcolorに「red」を代入</strong>していますね。これによりhogeの文字の色を変えることができます。つまりこのプログラムは、ボタンが押されたら「人生成功の鍵は目標設定にあり」を赤文字にするというプログラムになります。</p>
                <p class="sen point">JavaScriptでスタイルをいじる時は、「Element.style.color='red'」のように指定する。</p>
                <h2 class="sen" id="mt2">2. 滑らかにアニメーションする</h2>
                <p class="sen">先程で大体どのようにしてJSでCSSを操作すればよいか想像がついたと思います。ちなみに先ほどは、cssのcolorプロパティを操作したので「style.color」のように指定しましたが、これが例えばdisplayプロパティをいじるとなった時は「style.display」のようになり、background-colorのようにハイフンがついた場合は<strong>「style.backgroundColor」</strong>のようになります。</p>
                <p class="sen">少々話がそれましたが、この章では滑らかにアニメーションをしたいと思います。どういうことかというと、例えば、topプロパティをいじって要素を動かす時、何も工夫せずにただただプロパティの値を変えただけでは、要素は瞬間移動してしまいます。これを時間をかけて、<strong>滑らか</strong>に移動するようにしようという話です。下にコード例を示します。</p>
<pre class="line-numbers"><code class="language-html">&lt;p id=&#39;moveElem&#39; style='position:relative;'&gt;私は動きます&lt;/p&gt;
&lt;button onclick=&#39;move()&#39;&gt;動かす&lt;/button&gt;
&lt;script&gt;
    function move(){
        const elem=document.getElementById('moveElem')
        let i=0
        const moveOne=()=>{
            elem.style.top=i
            i++
            if(i>500){
                clearInterval(moveTimer)
            }
        }
        const moveTimer=setInterval(moveOne,10)
    }
&lt;/script&gt;
</code></pre>
                <p class="sen">大体わかると思いますが、一応解説しておくと、二行目のボタンを押すとmove関数が実行されます。このmove関数のなかでは、setIntervalを使用することにより、10msごとに関数moveOneを呼び出しています。さらにmoveOneの中を見ると、if文でiが500より大きくなった場合、タイマーを止めると書かれてあるので、topは500より大きくなることはありません。あと一応書いておきますが、pタグのstyleに「position:relative;」の指定を忘れないように気を付けてください。</p>
                <p class="sen">このやり方でもいいのですが、パフォーマンスを意識するときあまり有効ではありません。その場合requestAnimationFrameを利用します。詳しいやり方は<a href="../3/index.html" target="_blank" rel="noreferrer noopener">こちら</a>で解説しているので見てください。</p>
                <h2 class="sen" id="mt3">3. Classを利用して操作しよう</h2>
                <p class="sen">次にHTMLの属性の一つとしてあったclassを利用して操作したいと思います。次のコード例を見てください。</p>
<pre class="line-numbers"><code class="language-html">&lt;p id=&quot;hoge&quot;&gt;動きます&lt;/p&gt;
&lt;button onclick=&quot;move()&quot;&gt;動かす&lt;/button&gt;
&lt;style&gt;
    #hoge{
        position:relative;
    }
    #hoge.move{
        animation:hogeAnimation 5s forwards linear;
    }
    @keyframes hogeAnimation{
        0%{
            top:0px;
        }
        100%{
            top:500px;
        }
    }
&lt;/style&gt;
&lt;script&gt;
    function move(){
        const hoge=document.getElementById("hoge")
        hoge.classList.add("move")
    }
&lt;/script&gt;
</code></pre>
                <p class="sen">人によっては「やってることは同じなのにコードは複雑になったな」と感じるかもしれませんが、高度なことをしようと思ったとき、こちらのほうが単純でわかりやすく書けることが多いです。</p>
                <p class="sen">解説します。まず今回の肝である7~9行目に注目してください。セレクタが「#hoge.move」となっていますね。これは「idがhogeの要素のクラスにmoveが含まれた時」という意味になります。つまり、#hogeにmoveというclassを追加されたとき、書いてあることが実行されるということですね。その中身はcssのanimationとなっており、10~17行目はanimationの設定になっています。設定の内容をざっと説明すると5秒でtopを0pxから500pxまで増やすという意味ですね。そして20~23行目には関数moveが定義されており、#hogeにmoveというclassを与えるという意味ですね。これにより、ボタンが押されると関数moveが実行され、#hogeに.moveが付与されることにより7~17行目の内容が実行され、#hogeが500px動くということになります。</p>
                <h2 class="sen" id="mt4">4. 疑似要素にチャレンジ！</h2>
                <p class="sen">では最後に疑似要素を操作してみましょう。じつはJavaScriptから直接、疑似要素を操作することはできないのですが3章の内容を利用すると、操作することができるようになるんです。ではコード例を見ていきましょう。</p>
<pre class="line-numbers"><code class="language-html">&lt;button id=&quot;piyo&quot; onclick="pushed()"&gt;&lt;/button&gt;
&lt;style&gt;
    #piyo::before{
        content:"早く押せ！";
    }
    #piyo.pushed::before{
        content:"よく押してくれた。";
    }
&lt;/style&gt;
&lt;script&gt;
    function pushed(){
        let elem=document.getElementById("piyo")
        elem.classList.add("pushed")
    }
&lt;/script&gt;
</code></pre>
                <div class="preview">
                    <button id="piyo" onclick="pushed()"></button>
                    <style>
                        #piyo::before{
                            content:"早く押せ！";
                        }
                        #piyo.pushed::before{
                            content:"よく押してくれた。";
                        }
                    </style>
                    <script>
                        function pushed(){
                            let elem=document.getElementById("piyo")
                            elem.classList.add("pushed")
                        }
                    </script>
                </div>
                <p class="sen">上のものは実際にブラウザに表示してみたものです。クリックすると疑似要素の内容が変わりましたね。</p>
                <p class="sen">では解説していきます。まず一行目にbuttonタグが定義されており、押されるとpushed関数が実行されます。2~9行目にはCSSが記述されており、3~5行目には#piyoの疑似要素が記述されており、「content:"早く押せ！";」と書いているので疑似要素には「早く押せ！」と表示されます。そして6~8行目はセレクタに「#piyo.pushed::before」と書かれているため、ボタンのclassに「pushed」が付与されたとき「よく押してくれた。」と表示されます。10~15行目はJavaScriptで#piyoに.pushedを付与するという内容ですね。このようにclassを付与することにより間接的ですが、JSから疑似要素を操作することができます。</p>
                <h2 class="sen">まとめ</h2>
                <p class="sen">今回はJSからCSSをいじってみました。DOM操作の基本なので覚えておいてください。またClassを利用したやり方は何かと使うことがあるので、覚えておいて損はないです。</p>
                <div id="share">
                    <div class="line-it-button" data-lang="ja" data-type="share-a" data-env="REAL" data-url="https://iyqzbugtwfgzyugaybuxxa.on.drv.tw/Indorde%20top/InT/Inb/contents/IT技術/art/2/index.html" data-color="default" data-size="small" data-count="true" data-ver="3" style="display: none;"></div><script src="https://www.line-website.com/social-plugins/js/thirdparty/loader.min.js" async="async" defer="defer"></script>
                    <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                </div>
                <div id="recommends">
                    <h3>おすすめ記事</h3>
                    <a href="../3/index.html">
                        <div class="recomOne">
                            <img src="../3/title.jpg" alt="タイトル画像" width="150">
                            <div class="recomStr">
                                <p class="recomTitle">requestAnimationFrameの使い方</p>
                                <p class="recomsen">JSでアニメーションを使うときに使われるrequestAnimationFrameをわかりやすくマスターしよう！実践的な内容も交えて解説。</p>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="recomOne">
                            <img src="../" alt="タイトル画像" width="150">
                            <div class="recomStr">
                                <p class="recomTitle"></p>
                                <p class="recomsen"></p>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="recomOne">
                            <img src="../" alt="タイトル画像" width="150">
                            <div class="recomStr">
                                <p class="recomTitle"></p>
                                <p class="recomsen"></p>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="recomOne">
                            <img src="../" alt="タイトル画像" width="150">
                            <div class="recomStr">
                                <p class="recomTitle"></p>
                                <p class="recomsen"></p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div id="footer">
            <div id="foot_title">
                <img src="../../../../inbIcon.png" alt="Inforde Blog アイコン">
                <p id="foot_title_p">Inforde Blog</p>
            </div>
            <div id="foot_link">
                <a href="../../../../../../InT.html">Inforde Top</a>
                <a href="../../../../../Ing/Ing.html">Inforde GAME</a>
                <a href="../../../../inb.html">Inforde Blog</a>
                <a href="../../../../../統合画面/統合画面_プライバシーポリシー.html">プライバシーポリシー</a>
                <a href="../../../../../統合画面/統合画面_報告・提案.html">お問い合わせ</a>
            </div>
        </div>
    </body>
</html>